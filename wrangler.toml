name = "travel-blog"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Build configuration for SvelteKit
build = { command = "npm run build", cwd = "." }
main = ".svelte-kit/cloudflare/index.js"
assets = { directory = ".svelte-kit/cloudflare/client", binding = "ASSETS" }

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "travel-blog-db"
database_id = "f06806b0-942e-43ba-8899-74cb72f016ab" # Replace after running: npx wrangler d1 create travel-blog-db

# R2 Bucket for photo uploads
[[r2_buckets]]
binding = "PHOTOS"
bucket_name = "travel-blog-photos"

# Environment variables (set via wrangler secret)
# Run: npx wrangler secret put SESSION_SECRET
